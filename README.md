# Postrelational-DB
НАЦІОНАЛЬНИЙ ТЕХНІЧНИЙ УНІВЕРСИТЕТ УКРАЇНИ 
"КИЇВСЬКИЙ ПОЛІТЕХНІЧНИЙ ІНСТИТУТ ІМЕНІ ІГОРЯ СІКОРСЬКОГО” НАВЧАЛЬНО-НАУКОВИХ ІНСТИТУТ АТОМНОЇ ТА ТЕПЛОВОЇ ЕНЕРГЕТИКИ КАФЕДРА ЦИФРОВИХ ТЕХНОЛОГІЙ В ЕНЕРГЕТИЦІ 


ЛАБОРАТОРНА РОБОТА №6
 з дисципліни "Постреляційні бази даних" 



Виконав: студент групи ТР-52мп 
Томін Владислав Вікторович
Перевірив: Волков Олександр Володимирович


 
 Київ – 2025

 ----
**Мета роботи**

 Ознайомитися з особливостями використання SQL-запитів, тригерів, глобалів та зв’язків між об’єктами в InterSystems IRIS. Навчитись виконувати запити різних типів та переглядати фізичне зберігання даних.

**Завдання**

1.	Додати SQL-запити у всі класи 
Мінімум один запит з аргументом 
Мінімум один запит, що виконується через COS-код (не через SQL Shell)
2.	Використати Embedded SQL та Dynamic SQL 
Простий запит 
Запит з курсором 
3.	Використати implicit join (->) 
4.	Створити тригер, який виконується автоматично під час вставки 
5.	Створити код для його тестування 
6.	Змінити Unique Index на IDKEY і показати зміну глобалів 
7.	Методи повинні мати сенс і давати результат
   
**Хід роботи**

<img src="img/1.png">
 
Спочатку запускаю спеціальний метод Seed, який створює тестові дані:
кілька курсів і студентів.

Далі показую приклад Embedded SQL: (Вбудуованого)
програма виконує SQL-запит всередині методу і повертає результат у змінну.
Ми дізнаємося загальну кількість курсів.

Наступний приклад також використовує Embedded SQL, але вже з курсором.
Дані читаються построково, і програма показує список студентів і їхні email-адреси.
Dynamic SQL.
Тут SQL-запит зберігається у вигляді тексту, готується й виконується динамічно.
Також ми використовуємо стрілку ->, щоб одразу взяти назви курсів із пов’язаного об’єкта.
Тобто дані об’єднуються автоматично через зв’язок Student → Course.

<img src="img/2.png">
 
У класі Online.Student я продемонстрував це через метод TestTrigger. Метод створює нового студента, виконує збереження, а потім записує в глобал ^Online.StudentLog інформацію про вставку — дату, тип операції, ім’я та email. Команда ZWRITE ^Online.StudentLog показує фізичну структуру глобалу, яку можна використати у звіті.

 <img src="img/3.png">
 
SQL Query з аргументом (COS-based)
Я запускаю спеціальний SQL-запит ByTitle, який шукає курси за початком назви. Я створюю об’єкт rs, який буде зберігати результати запиту. Потім я виконую цей запит з параметром "Basics". Після цього я у циклі перебираю всі знайдені рядки


<img src="img/4.png">
 
Фрагменти коду

----
**Висновок**

У цій лабораторній роботі я закріпив навички роботи з постреляційною моделлю бази даних в InterSystems IRIS. Було створено й заповнено об’єктні класи, виконано SQL-запити різних типів: простий Embedded SQL, запит із курсором та Dynamic SQL через програмний код. Додано SQL-Query з параметром і продемонстровано його запуск через COS. Також створено тригер, який автоматично спрацьовує при вставці нового студента та записує інформацію у глобал — це дозволило побачити зміну фізичної структури даних. Крім того, було використано IDKEY для іншого способу організації доступу до даних у глобалах. Усі вимоги завдання виконано, а результати підтверджують правильну роботу реалізованих механізмів та розуміння принципів IRIS.

НАЦІОНАЛЬНИЙ ТЕХНІЧНИЙ УНІВЕРСИТЕТ УКРАЇНИ <br>
"КИЇВСЬКИЙ ПОЛІТЕХНІЧНИЙ ІНСТИТУТ ІМЕНІ ІГОРЯ СІКОРСЬКОГО” <br>
НАВЧАЛЬНО-НАУКОВИХ ІНСТИТУТ АТОМНОЇ ТА ТЕПЛОВОЇ ЕНЕРГЕТИКИ <br>
КАФЕДРА ЦИФРОВИХ ТЕХНОЛОГІЙ В ЕНЕРГЕТИЦІ <br>


ЛАБОРАТОРНА РОБОТА №5<br>
 з дисципліни "Постреляційні бази даних" <br>




Виконав: студент групи ТР-52мп <br>
Томін Владислав Вікторович<br>
Перевірив: Волков Олександр Володимирович<br>


 Київ – 2025
 
---
**МЕТА РОБОТИ:**

Додати до одного з класів завжди обчислювану властивість та реалізувати метод-геттер. Створити код автоматичної генерації даних для всіх розроблених класів. Реалізувати модульні тести, які перевіряють: створення об’єкта; унікальні, обов’язкові та обмежені властивості; поведінку при видаленні об’єкта, який має підлеглі елементи; успішне видалення об’єкта після усунення підлеглих елементів.

---
**ХІД РОБОТИ**

**Додавання завжди обчислюваної властивості**

У клас Course була додана властивість, яка завжди рахується автоматично — довжина текстового поля (без збереження в базі).
Для цього створено обчислювану властивість та метод-геттер.
Property TitleLength As %Integer [ Calculated ];
Method TitleLengthGet() As %Integer
{
    Quit $Length(..Title)
}

<img src="img/1.png">
 
В терміналі виконується відкриття об’єкта та вивід обчисленого значення.
Отримано правильний результат — довжина назви курсу дорівнює 20 символам.

 Автоматична генерація даних
Було створено клас Online.Seed, який автоматично створює об’єкти всіх типів: телефони, викладачі, студенти, школа, курси, уроки та навчальні матеріали.
Фрагмент коду генерації:
Set c1=##class(Online.Course).%New()
Set c1.Code="CS101"
Set c1.Title="Intro to Programming"
Set c1.School=sch
Set c1.Teacher=t1
Do c1.Tags.Insert("programming")
Do c1.%Save()

 <img src="img/2.png">

Генерація працює коректно — після її виконання таблиці містять наповнені дані. Генератор виконується командою:

Do ##class(Online.Seed).Run()

 <img src="img/3.png">

**Тест створення об’єктів**

Перевіряється, що всі об’єкти успішно створюються та зберігаються.

<img src="img/4.png">
 
Усі об’єкти створено успішно — статуси дорівнюють 1.

**Тест унікальних і обов’язкових властивостей**

Перевіряється:

- унікальність email студента (збереження дублікату має завершитись помилкою); <br>
- обов’язковість назви курсу (курс без назви не зберігається). <br>

 <img src="img/5.png">

Перший студент зберігається успішно, другий — повертає помилку.
Спроба зберегти курс без назви також завершується помилкою — що підтверджує коректність перевірок.

**Тест поведінки при видаленні об’єктів з підлеглими елементами**

видалення уроку курс успішно видаляється.

 <img src="img/6.png">

Тест поведінки при видаленні об’єкта, який має підлеглий елемент. Неможливість видалення підтверджує правильність налаштування зв’язку. Після видалення підлеглого елементу курс видаляється.

---
**ВИСНОВКИ**

У ході роботи було:<br>
•	Додано завжди обчислювану властивість та реалізовано метод-геттер. <br>

•	Реалізовано генератор даних, який автоматично створює повноцінний набір об’єктів усіх класів.<br>

•	Написано модульні тести, які повністю покривають:<br>
o	створення об’єктів;<br>
o	обмеження унікальності та обов’язковості;<br>
o	поведінку при видаленні об’єктів із підлеглими даними;<br>
o	правильне видалення після усунення підлеглих елементів.<br>
Усі частини завдання виконані, логіка роботи системи перевірена та підтверджена тестами.<br>

